# LED灯带配置说明

## 编译时配置

LED数量和相关参数现在通过编译选项进行配置，在`platformio.ini`文件中定义。

## 预设配置

项目提供了以下预设配置：

### 1. 默认配置 (airm2m_core_esp32c3)
- **LED数量**: 60个
- **控制引脚**: GPIO18
- **亮度**: 100 (0-255)
- **用途**: 标准灯带配置

### 2. 短灯带配置 (esp32c3_30leds)
- **LED数量**: 30个
- **控制引脚**: GPIO18
- **亮度**: 120 (0-255)
- **用途**: 短灯带或装饰用

### 3. 长灯带配置 (esp32c3_144leds)
- **LED数量**: 144个
- **控制引脚**: GPIO18
- **亮度**: 80 (0-255)
- **用途**: 长灯带，较低亮度以减少功耗

### 4. 测试配置 (esp32c3_8leds)
- **LED数量**: 8个
- **控制引脚**: GPIO18
- **亮度**: 150 (0-255)
- **用途**: 开发和测试

## 使用方法

### 使用预设配置编译上传：
```bash
# 使用默认60个LED配置
pio run -e airm2m_core_esp32c3 -t upload

# 使用30个LED配置
pio run -e esp32c3_30leds -t upload

# 使用144个LED配置
pio run -e esp32c3_144leds -t upload

# 使用8个LED测试配置
pio run -e esp32c3_8leds -t upload
```

### 自定义配置：

如果需要其他LED数量，可以直接修改`platformio.ini`文件中的`build_flags`部分：

```ini
build_flags = 
    -DNUM_LEDS=你的LED数量
    -DLED_PIN=你的控制引脚
    -DBRIGHTNESS=你的亮度值
```

## 配置参数说明

- **NUM_LEDS**: LED灯珠数量 (1-1000+)
- **LED_PIN**: 控制信号引脚号 (ESP32C3可用GPIO)
- **BRIGHTNESS**: 整体亮度 (0-255)
  - 0: 关闭
  - 50-100: 适合室内使用
  - 150-200: 适合较暗环境
  - 255: 最大亮度（功耗最高）

## 注意事项

1. **功耗考虑**: LED数量越多，功耗越大，建议根据电源能力调整亮度
2. **引脚选择**: 确保选择的GPIO引脚支持输出
3. **编译清理**: 更改配置后建议清理编译缓存：`pio run -t clean`

## 效果说明

所有18种灯光效果都会自动适配配置的LED数量：
- 彩虹流动、颜色扫过、彩虹螺旋、烟花效果
- 闪烁效果、追逐效果、火焰效果、流星雨
- 彩虹循环、等离子效果、闪电效果、矩阵雨
- 霹雳游侠、彗星效果、爆裂闪烁、波浪坍塌
- 数字雨、脉冲波

每种效果持续6秒，自动循环切换。
